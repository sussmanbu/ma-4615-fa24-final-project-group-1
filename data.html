<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data – MA [46]15 Final Project - Group 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">MA [46]15 Final Project - Group 1</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./big_picture.html"> 
<span class="menu-text">Road Real Talk: Crashes, Conditions, and Rescue</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./analysis.html"> 
<span class="menu-text">Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./data.html" aria-current="page"> 
<span class="menu-text">Data</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#primary-data-source" id="toc-primary-data-source" class="nav-link active" data-scroll-target="#primary-data-source">Primary Data Source</a>
  <ul class="collapse">
  <li><a href="#key-variables" id="toc-key-variables" class="nav-link" data-scroll-target="#key-variables">Key Variables</a></li>
  </ul></li>
  <li><a href="#additional-data-sources" id="toc-additional-data-sources" class="nav-link" data-scroll-target="#additional-data-sources">Additional Data Sources</a>
  <ul class="collapse">
  <li><a href="#pavement-condition-index" id="toc-pavement-condition-index" class="nav-link" data-scroll-target="#pavement-condition-index">Pavement Condition Index</a>
  <ul class="collapse">
  <li><a href="#data-files-and-variables" id="toc-data-files-and-variables" class="nav-link" data-scroll-target="#data-files-and-variables">Data Files and Variables</a></li>
  <li><a href="#access-and-use-information" id="toc-access-and-use-information" class="nav-link" data-scroll-target="#access-and-use-information">Access and Use Information</a></li>
  <li><a href="#additional-notes" id="toc-additional-notes" class="nav-link" data-scroll-target="#additional-notes">Additional Notes</a></li>
  </ul></li>
  <li><a href="#maryland-highway-mileage-reports" id="toc-maryland-highway-mileage-reports" class="nav-link" data-scroll-target="#maryland-highway-mileage-reports">Maryland Highway Mileage Reports</a>
  <ul class="collapse">
  <li><a href="#data-files-and-variables-1" id="toc-data-files-and-variables-1" class="nav-link" data-scroll-target="#data-files-and-variables-1">Data Files and Variables</a></li>
  <li><a href="#access-and-use-information-1" id="toc-access-and-use-information-1" class="nav-link" data-scroll-target="#access-and-use-information-1">Access and Use Information</a></li>
  <li><a href="#additional-notes-1" id="toc-additional-notes-1" class="nav-link" data-scroll-target="#additional-notes-1">Additional Notes</a></li>
  </ul></li>
  <li><a href="#montgomery-county-crime-dataset" id="toc-montgomery-county-crime-dataset" class="nav-link" data-scroll-target="#montgomery-county-crime-dataset">Montgomery County Crime Dataset</a>
  <ul class="collapse">
  <li><a href="#data-files-and-variables-2" id="toc-data-files-and-variables-2" class="nav-link" data-scroll-target="#data-files-and-variables-2">Data Files and Variables</a></li>
  <li><a href="#access-and-use-information-2" id="toc-access-and-use-information-2" class="nav-link" data-scroll-target="#access-and-use-information-2">Access and Use Information</a></li>
  <li><a href="#additional-notes-2" id="toc-additional-notes-2" class="nav-link" data-scroll-target="#additional-notes-2">Additional Notes</a></li>
  </ul></li>
  <li><a href="#data-cleaning-process" id="toc-data-cleaning-process" class="nav-link" data-scroll-target="#data-cleaning-process">Data Cleaning Process</a>
  <ul class="collapse">
  <li><a href="#setup-and-requirements" id="toc-setup-and-requirements" class="nav-link" data-scroll-target="#setup-and-requirements">Setup and Requirements</a></li>
  <li><a href="#running-the-cleaning-script" id="toc-running-the-cleaning-script" class="nav-link" data-scroll-target="#running-the-cleaning-script">Running the Cleaning Script</a></li>
  <li><a href="#cleaning-operations" id="toc-cleaning-operations" class="nav-link" data-scroll-target="#cleaning-operations">Cleaning Operations</a></li>
  </ul></li>
  <li><a href="#rubric-on-this-page" id="toc-rubric-on-this-page" class="nav-link" data-scroll-target="#rubric-on-this-page">Rubric: On this page</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="primary-data-source" class="level1">
<h1>Primary Data Source</h1>
<p>The primary dataset used in this analysis comes from Montgomery County, Maryland’s open data portal, specifically the “Crash Reporting - Drivers Data” dataset. This dataset is publicly available and can be accessed at <a href="https://data.montgomerycountymd.gov/Public-Safety/Crash-Reporting-Drivers-Data/mmzv-x632">Montgomery County’s Data Portal</a>. The data is collected through the Automated Crash Reporting System (ACRS) of the Maryland State Police and includes reports from multiple law enforcement agencies: Montgomery County Police, Gaithersburg Police, Rockville Police, and the Maryland-National Capital Park Police.</p>
<p>The dataset was created and is maintained as part of Montgomery County’s commitment to public safety and transparency, particularly in support of their Vision Zero initiative (as indicated by the dataset’s keywords). Vision Zero is a strategy to eliminate all traffic fatalities and severe injuries while increasing safe, healthy, equitable mobility for all.</p>
<p>The data collection serves multiple purposes:</p>
<ul>
<li>To track and analyze traffic collision patterns across the county</li>
<li>To inform policy decisions regarding traffic safety measures</li>
<li>To provide transparency about traffic incidents to the public</li>
<li>To support the coordination between different law enforcement agencies in the county</li>
</ul>
<p>The dataset is updated weekly and contains detailed information about traffic collisions occurring on county and local roadways. Each record represents a driver involved in a collision, with 39 variables capturing various aspects of the incident, including:</p>
<section id="key-variables" class="level3">
<h3 class="anchored" data-anchor-id="key-variables">Key Variables</h3>
<ul>
<li>Temporal and Spatial Information: Crash Date/Time, Location (Latitude/Longitude), Road Name</li>
<li>Environmental Conditions: Weather, Surface Condition, Light, Traffic Control</li>
<li>Driver Details: Driver At Fault, Injury Severity, Driver Substance Abuse, Driver Distracted By</li>
<li>Vehicle Information: Vehicle Make, Model, Year, Body Type, Damage Extent</li>
</ul>
</section>
</section>
<section id="additional-data-sources" class="level1">
<h1>Additional Data Sources</h1>
<section id="pavement-condition-index" class="level2">
<h2 class="anchored" data-anchor-id="pavement-condition-index">Pavement Condition Index</h2>
<p>The dataset, titled <strong>Pavement Condition Index</strong>, is provided by the <strong>Department of Transportation of Montgomery County, Maryland</strong>, and can be accessed through the Montgomery County open data portal at <a href="https://data.montgomerycountymd.gov">data.montgomerycountymd.gov</a>. This dataset was created to analyze and report on the conditions of pavements across the county’s roadways.</p>
<ul>
<li><strong>Purpose of Collection</strong>
<ul>
<li>To evaluate and monitor the pavement condition of all 5,200 lane miles of roadways in Montgomery County.</li>
<li>Support county transportation planning and maintenance activities by providing numerical condition scores.</li>
</ul></li>
<li><strong>Attribution</strong>
<ul>
<li>Collected and curated by the Montgomery County Department of Transportation.</li>
<li>Maintained and updated biennially with metadata recently updated on <strong>June 11, 2023</strong>.</li>
</ul></li>
</ul>
<section id="data-files-and-variables" class="level3">
<h3 class="anchored" data-anchor-id="data-files-and-variables">Data Files and Variables</h3>
<p>The dataset includes the following variables, which provide details about pavement conditions. The most relevant variables are highlighted below:</p>
<section id="key-variables-1" class="level4">
<h4 class="anchored" data-anchor-id="key-variables-1">Key Variables</h4>
<ul>
<li><strong>Pavement Condition Index (PCI)</strong>:
<ul>
<li>A numerical score between 1 and 100, representing the condition of the pavement.</li>
<li><strong>Score Categories</strong>:
<ul>
<li><strong>0-30</strong>: Poor condition.</li>
<li><strong>31-60</strong>: Fair condition.</li>
<li><strong>61-80</strong>: Good condition.</li>
<li><strong>81-100</strong>: Very good condition.</li>
</ul></li>
</ul></li>
<li><strong>Pavement Distress Types</strong>:
<ul>
<li>Includes 19 types of distresses, such as cracking, potholes, environmental impacts, and utility cuts.</li>
</ul></li>
</ul>
</section>
<section id="additional-variables-summarized" class="level4">
<h4 class="anchored" data-anchor-id="additional-variables-summarized">Additional Variables (Summarized):</h4>
<ul>
<li><strong>Roadway ID</strong>: Unique identifier for each roadway segment.</li>
<li><strong>Street Name</strong>: Name of the street being evaluated.</li>
<li><strong>Segment Length</strong>: Length of the road segment in miles.</li>
<li><strong>Last Inspected Date</strong>: Date of the most recent condition assessment.</li>
<li><strong>Road Category</strong>: Classifies roads (e.g., arterial, residential).</li>
</ul>
</section>
</section>
<section id="access-and-use-information" class="level3">
<h3 class="anchored" data-anchor-id="access-and-use-information">Access and Use Information</h3>
<ul>
<li>The dataset is publicly available and intended for use by the general public, researchers, and policymakers.</li>
<li>It is categorized as <strong>Non-Federal</strong>, with no specific license provided.</li>
</ul>
</section>
<section id="additional-notes" class="level3">
<h3 class="anchored" data-anchor-id="additional-notes">Additional Notes</h3>
<ul>
<li><strong>Update Frequency</strong>: The dataset is updated every two years to reflect changes in pavement conditions.</li>
<li><strong>Limitations</strong>: The dataset does not include real-time updates or historical comparisons across multiple update cycles.</li>
</ul>
</section>
</section>
<section id="maryland-highway-mileage-reports" class="level2">
<h2 class="anchored" data-anchor-id="maryland-highway-mileage-reports">Maryland Highway Mileage Reports</h2>
<p>The dataset, titled <strong>Annual Highway Mileage Reports</strong>, is provided by the <strong>Maryland Department of Transportation State Highway Administration (MDOT SHA)</strong>. This dataset combines comprehensive information about state, toll, county, and municipal roadway systems in Montgomery County, Maryland, focusing on three key report types: DSD9 (Detailed Surface Data), FCAVMT (Functional Class Annual Vehicle Miles Traveled), and FCMI (Functional Class Mileage Information) from 2017 to 2022.</p>
<ul>
<li><strong>Purpose of Collection</strong>
<ul>
<li>To track and analyze highway infrastructure across different functional classifications in Montgomery County.</li>
<li>Support transportation planning and policy decisions by providing detailed metrics on road usage and capacity.</li>
<li>Monitor changes in road infrastructure and vehicle miles traveled over time.</li>
</ul></li>
<li><strong>Attribution</strong>
<ul>
<li>Collected and maintained by the Maryland Department of Transportation State Highway Administration.</li>
<li>Represents official state records of highway infrastructure and usage.</li>
</ul></li>
</ul>
<section id="data-files-and-variables-1" class="level3">
<h3 class="anchored" data-anchor-id="data-files-and-variables-1">Data Files and Variables</h3>
<p>The dataset combines three main report types, each providing distinct insights into the county’s highway system:</p>
<section id="key-components" class="level4">
<h4 class="anchored" data-anchor-id="key-components">Key Components</h4>
<ul>
<li><strong>DSD9 (Detailed Surface Data)</strong>:
<ul>
<li>Mainline mileage (total, divided, non-divided)</li>
<li>Annual vehicle miles</li>
<li>Lane mileage (auxiliary spurs, mainline, total)</li>
<li>Square yards of surfacing</li>
</ul></li>
<li><strong>FCAVMT (Functional Class Annual Vehicle Miles Traveled)</strong>:
<ul>
<li>Tracks vehicle miles traveled across different road classifications</li>
<li>Separates data into rural and urban categories</li>
<li>Includes various road types from Interstate to Local roads</li>
</ul></li>
<li><strong>FCMI (Functional Class Mileage Information)</strong>:
<ul>
<li>Documents road mileage by functional classification</li>
<li>Covers both rural and urban road networks</li>
<li>Categorizes roads from Interstate to Local systems</li>
</ul></li>
</ul>
</section>
<section id="classification-variables" class="level4">
<h4 class="anchored" data-anchor-id="classification-variables">Classification Variables</h4>
<ul>
<li><strong>Road Categories</strong>:
<ul>
<li>Interstate</li>
<li>Other Freeways</li>
<li>Principal Arterial</li>
<li>Minor Arterial</li>
<li>Major Collector</li>
<li>Minor Collector</li>
<li>Local Roads</li>
</ul></li>
</ul>
<p>Each category is further subdivided into rural and urban designations.</p>
</section>
</section>
<section id="access-and-use-information-1" class="level3">
<h3 class="anchored" data-anchor-id="access-and-use-information-1">Access and Use Information</h3>
<ul>
<li>The dataset represents official state records and is used for planning and administrative purposes.</li>
<li>Data is structured to support analysis of transportation infrastructure trends from 2017 to 2022.</li>
</ul>
</section>
<section id="additional-notes-1" class="level3">
<h3 class="anchored" data-anchor-id="additional-notes-1">Additional Notes</h3>
<ul>
<li><strong>Time Coverage</strong>: The dataset spans six years (2017-2022), providing recent historical context.</li>
<li><strong>Geographical Scope</strong>: Focuses specifically on Montgomery County, Maryland.</li>
<li><strong>Integration</strong>: Combines three distinct report types to provide a comprehensive view of the county’s highway system.</li>
<li><strong>Limitations</strong>: Earlier years may have fewer data categories as reporting requirements expanded over time.</li>
</ul>
</section>
</section>
<section id="montgomery-county-crime-dataset" class="level2">
<h2 class="anchored" data-anchor-id="montgomery-county-crime-dataset">Montgomery County Crime Dataset</h2>
<p>The dataset, titled <strong>Crime</strong>, is provided by the <strong>Montgomery County Police Department</strong> and can be accessed through Montgomery County’s open data portal at dataMontgomery. This dataset contains detailed crime statistics and incident reports, utilizing the National Incident-Based Reporting System (NIBRS) classification standards.</p>
<p>The primary purpose of this dataset is to provide public access to comprehensive crime statistics in Montgomery County, supporting law enforcement analysis and transparency initiatives while enabling data-driven policy decisions regarding public safety. The data is collected and maintained by the Montgomery County Police Department and compiled using the EJustice records-management system. The data is updated daily, with metadata last updated on December 7, 2024.</p>
<section id="data-files-and-variables-2" class="level3">
<h3 class="anchored" data-anchor-id="data-files-and-variables-2">Data Files and Variables</h3>
<p>The dataset includes detailed information about reported crimes through various key components. The incident information includes unique identifiers such as Incident ID and CR Number, along with temporal data including dispatch date/time, and start and end date/time. Each incident is classified using NIBRS codes and can include up to three crime name categories per incident, along with offense codes and the number of victims involved.</p>
<p>Location data is extensively documented, including police district name and number, detailed block address components, city, state, and zip code information. Geographic coordinates are provided through latitude and longitude, and law enforcement jurisdictional information is included through sector, beat, and PRA designations.</p>
</section>
<section id="access-and-use-information-2" class="level3">
<h3 class="anchored" data-anchor-id="access-and-use-information-2">Access and Use Information</h3>
<p>The dataset is made available to the public through multiple format options, including CSV, RDF/XML, JSON, and XML. The data coverage begins from July 1st, 2016, and can be accessed through the Montgomery County open data portal. To maintain privacy standards, all personal information is excluded from the public dataset to protect victims’ privacy.</p>
</section>
<section id="additional-notes-2" class="level3">
<h3 class="anchored" data-anchor-id="additional-notes-2">Additional Notes</h3>
<p>The dataset is updated daily, with quarterly refreshes to reflect any changes in investigation status. Users should be aware of several important limitations: the information may be preliminary and subject to change, incidents may include attempted crimes alongside completed ones, and crime classifications may be updated as investigations progress. The data may contain mechanical or human errors, and while arrest information is included, all arrested persons are presumed innocent until proven guilty in a court of law.</p>
<p>This comprehensive dataset serves as a valuable resource for understanding crime patterns and law enforcement activities in Montgomery County, while maintaining appropriate privacy protections and data quality standards. The frequent updates and multiple format options make it a useful tool for researchers, policy makers, and the general public interested in local crime statistics and trends.</p>
</section>
</section>
<section id="data-cleaning-process" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning-process">Data Cleaning Process</h2>
<p>Our data cleaning process is implemented in our <a href="./scripts/load_and_clean_data.R">load_and_clean_data.R</a> script. Here’s how to use it and what it does:</p>
<section id="setup-and-requirements" class="level3">
<h3 class="anchored" data-anchor-id="setup-and-requirements">Setup and Requirements</h3>
<p>First, ensure you have all required packages installed:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"lubridate"</span>, <span class="st">"skimr"</span>, <span class="st">"here"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="running-the-cleaning-script" class="level3">
<h3 class="anchored" data-anchor-id="running-the-cleaning-script">Running the Cleaning Script</h3>
<p>The script can be run in two ways:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Option 1: Source directly in your Quarto document</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"scripts"</span>, <span class="st">"load_and_clean_data.R"</span>), <span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Option 2: Load the already cleaned data</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>clean_data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"dataset"</span>, <span class="st">"cleaned_dataset_full.rds"</span>))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Or load the exploration subset</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>subset_data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"dataset"</span>, <span class="st">"cleaned_dataset.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cleaning-operations" class="level3">
<h3 class="anchored" data-anchor-id="cleaning-operations">Cleaning Operations</h3>
<p>Our cleaning script performs the following operations:</p>
<ol type="1">
<li>Removes columns with more than 80% missing values</li>
<li>Converts the case number to proper character format</li>
<li>Standardizes date/time formats using lubridate</li>
<li>Handles missing values in the Route Type column</li>
<li>Removes duplicate entries</li>
</ol>
</section>
</section>
<section id="rubric-on-this-page" class="level2">
<h2 class="anchored" data-anchor-id="rubric-on-this-page">Rubric: On this page</h2>
<p>You will</p>
<ul class="task-list">
<li><label><input type="checkbox">Describe where/how to find data.</label>
<ul class="task-list">
<li><label><input type="checkbox">You must include a link to the original data source(s). Make sure to provide attribution to those who collected the data.</label></li>
<li><label><input type="checkbox">Why was the data collected/curated? Who put it together? (This is important, if you don’t know why it was collected then that might not be a good dataset to look at.</label></li>
</ul></li>
<li><label><input type="checkbox">Describe the different data files used and what each variable means.</label>
<ul class="task-list">
<li><label><input type="checkbox">If you have many variables then only describe the most relevant ones and summarize the rest.</label></li>
</ul></li>
<li><label><input type="checkbox">Describe any cleaning you had to do for your data.</label>
<ul class="task-list">
<li><label><input type="checkbox">You <em>must</em> include a link to your <code>load_and_clean_data.R</code> file.</label></li>
<li><label><input type="checkbox">Rename variables and recode factors to make data more clear.</label></li>
<li><label><input type="checkbox">Also, describe any additional R packages you used outside of those covered in class.</label></li>
<li><label><input type="checkbox">Describe and show code for how you combined multiple data files and any cleaning that was necessary for that.</label></li>
<li><label><input type="checkbox">Some repetition of what you do in your <code>load_and_clean_data.R</code> file is fine and encouraged if it helps explain what you did.</label></li>
</ul></li>
<li><label><input type="checkbox">Organization, clarity, cleanliness of the page</label>
<ul class="task-list">
<li><label><input type="checkbox">Make sure to remove excessive warnings, use clean easy-to-read code (without side scrolling), organize with sections, use bullets and other organization tools, etc.</label></li>
<li><label><input type="checkbox">This page should be self-contained.</label></li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/sussmanbu\.github\.io\/ma-4615-fa24-final-project-group-1\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>